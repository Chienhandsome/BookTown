<!DOCTYPE html>
<html lang="en">

<head>
    <title>Sign Up</title>
    <link rel="stylesheet" href="./../../STYLESHEET/signup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Russo+One&family=Signika&display=swap"
        rel="stylesheet">
        <script>
            function validateForm(event) {
                event.preventDefault(); // Ngăn chặn hành động mặc định của nút
        
                const email = document.getElementById('myemail').value;
                const password = document.getElementById('mypass').value;
        
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                const passwordRegex = /^(?=.*[A-Z]).*$/;
        
                if (!emailRegex.test(email)) {
                    alert('Invalid email format!');
                    return false;
                }
        
                if (!passwordRegex.test(password)) {
                    alert('Password must contain at least one letter, one number, and be at least 6 characters long!');
                    return false;
                }
        
                // Kiểm tra xem email đã tồn tại trong localStorage hay chưa
                const storedUser = localStorage.getItem('user');
                if (storedUser) {
                    const user = JSON.parse(storedUser);
                    if (user.email === email) {
                        alert('This email is already registered. Please log in instead.');
                        return false;
                    }
                }
        
                // Lưu thông tin vào localStorage
                const user = {
                    email: email,
                    password: password // Không nên lưu mật khẩu dạng plain text trong thực tế
                };
                localStorage.setItem('user', JSON.stringify(user));
        
                alert('Sign-up successful!');
                // Điều hướng về trang home
                window.location.href = "./../../index.html";
                return true;
            }
        </script>
</head>

<body>
    <div class="container">
        <div class="need-login-container">
            <h4 class="need">Already a user?<a href="./my-ac.html" style="text-decoration: none;"> LOG IN</a></h4>
        </div>
        <div class="login-title-container">
            <img src="./../../IMAGES/my-ac-img/add-user.png" alt="" class="login">
        </div>
        <form onsubmit="validateForm(event)">
            <div class="input-container">
                <label for="myemail" class="input-title">Email</label>
                <input type="text" class="input" placeholder="enter your email" id="myemail">
            </div>
            <div class="input-container">
                <label for="mypass" class="input-title">Set a Password</label>
                <input type="password" class="input" placeholder="enter your password" id="mypass">
            </div>
            <div class="login-container">
                <button type="submit" class="btn">SIGN UP</button>
            </div>
        </form>
        <div class="social-title-container">
            <h4 class="social-title">or connect with social media</h4>
        </div>
        <div class="social-png-container">
            <a href="./../../index.html"><img src="././../../IMAGES/my-ac-img/google.png" alt="" class="social"></a>
            <a href="./../../index.html"><img src="./../../IMAGES/my-ac-img/facebook (1).png" alt="" class="social"></a>
            <a href="./../../index.html"><img src="./../../IMAGES/my-ac-img/linkedin.png" alt="" class="social"></a>
        </div>
    </div>
</body>

</html>